<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css"> <!-- Link to the CSS file for styling -->
        <title>Calculator</title>
    </head>

    <body>
        <table border="1" align="center"> <!-- Table for the calculator layout -->
            <tr>
                <td colspan="4">
                    <input type="text" id="inputBox" value="0"/> <!-- Input field for the current expression, disabled for user input -->
                </td>
            </tr>
            <tr>
                <td colspan="4" class="clrBtn" onclick="clrBtnPressed()">Clr</td> <!-- Clear button -->
            </tr>
            <tr>
                <td class="digitBtn" onclick="digitBtnPressed(7)">7</td> <!-- Buttons for numbers and operations -->
                <td class="digitBtn" onclick="digitBtnPressed(8)">8</td> <!-- Each button has a unique ID -->
                <td class="digitBtn" onclick="digitBtnPressed(9)">9</td> <!-- Numbers 7, 8, 9 -->
                <td class="operatorBtn" onclick="operatorBtnPressed('/')">/</td> <!-- Division operator -->
            </tr>
            <tr>
                <td class="digitBtn" onclick="digitBtnPressed(4)">4</td> <!-- Numbers 4, 5, 6 -->
                <td class="digitBtn" onclick="digitBtnPressed(5)">5</td> <!-- Each button has a unique ID -->
                <td class="digitBtn" onclick="digitBtnPressed(6)">6</td> <!-- Numbers 4, 5, 6 -->
                <td class="operatorBtn" onclick="operatorBtnPressed('x')">x</td> <!-- Multiplication operator -->
            </tr>
            <tr>
                <td class="digitBtn" onclick="digitBtnPressed(1)">1</td> <!-- Numbers 1, 2, 3 -->
                <td class="digitBtn" onclick="digitBtnPressed(2)">2</td> <!-- Each button has a unique ID -->
                <td class="digitBtn" onclick="digitBtnPressed(3)">3</td> <!-- Numbers 1, 2, 3 -->
                <td class="operatorBtn" onclick="operatorBtnPressed('-')">-</td> <!-- Subtraction operator -->
            </tr>
            <tr>
                <td colspan="2" class="operatorBtn" onclick="digitBtnPressed(0)">0</td> <!-- Button for number 0 -->
                <td class="operatorBtn" onclick="operatorBtnPressed('+')">+</td> <!-- Addition operator -->
                <td colspan="2" class="operatorBtn" onclick="equalBtnPressed()">=</td> <!-- Equals button -->
            </tr>
            
        </table>

        <script>
            var newline = "true"; // Variable to store newline character

            var value1; // Variable to store the first value
            var currentOperator; // Variable to store the current operator


            function digitBtnPressed(button) { // Function to handle digit button presses

                if(newline) { // Check if newline is true
                    document.getElementById("inputBox").value = button; // Clear the input box if newline is true
                    newline = false; // Set newline to false after the first button press
                }
                else { // If newline is false, append the button value to the input box
                        var currentValue = document.getElementById("inputBox").value; // Get the current value in the input box
                        document.getElementById("inputBox").value = currentValue + button; // Function to handle digit button presses
                }
            }
            function clrBtnPressed(){ // Function to handle the clear button press
                document.getElementById("inputBox").value = 0; // Clear the input box
                newline = true; // Reset newline to true
            }

            function operatorBtnPressed(operator) { // Function to handle operator button 
                currentOperator = operator; // Set the current operator
                value1 = parseInt(document.getElementById("inputBox").value); // Get the current value from the input box
                newline = true; // Set newline to true to clear the input box for the next value
            }

            function decimalBtnPressed() { // Function to handle the decimal button press
                var inputBox = document.getElementById("inputBox"); // Get the input box element
                var currentValue = inputBox.value; // Get the current value in the input box

                // If starting a new number, start with "0."
                if (newline) { // Check if newline is true
                    inputBox.value = "0."; // Set the input box value to "0."
                    newline = false; // Set newline to false after the first button press
                } 
                // Only add decimal if not already present
                else if (currentValue.indexOf('.') === -1) { // Check if the current value does not already contain a decimal point
                    inputBox.value = currentValue + "."; // Append a decimal point to the current value
                }
            }

            function equalBtnPressed() { // Function to handle the equals button press
                var value2 = parseInt(document.getElementById("inputBox").value); // Get the second value from the input box
                var finaltotal; // Variable to store the final total

                switch (currentOperator) {
                    case '+': // If the operator is addition
                        finaltotal = value1 + value2; // Calculate the sum
                        break;
                    case '-': // If the operator is subtraction
                        finaltotal = value1 - value2; // Calculate the difference
                        break;
                    case 'x': // If the operator is multiplication
                        finaltotal = value1 * value2; // Calculate the product
                        break;
                    case '/': // If the operator is division
                        if (value2 !== 0) { // Check for division by zero
                            finaltotal = value1 / value2; // Calculate the quotient
                        } else {
                            alert("Cannot divide by zero!"); // Alert for division by zero
                            return; // Exit the function to prevent further execution
                        }
                        break;
                }
                document.getElementById("inputBoxBox").value = finaltotal; // Display the final total in the answer box
                
                value1 =0; // Reset value1 to 0
                newline = true; // Reset newline to true for the next calculation
            }

        </script>
    </body>

</html>